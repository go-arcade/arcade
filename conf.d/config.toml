[metrics]
# enable metrics server, false or true
enable = true
# metrics server host
host = "0.0.0.0"
# metrics server port
port = 8082
# metrics server request path, default: "/metrics"
path = "/metrics"

[pprof]
# enable pprof server, false or true
enable = true
# pprof server host
host = "0.0.0.0"
# pprof server port
port = 8083
# pprof server request path prefix, default: "/debug/pprof"
path = "/debug/pprof"

[trace]
# enable trace, false or true
enabled = true
# trace exporter type: "jaeger", "otlp-grpc", "otlp-http", or "none"
exporterType = "otlp-grpc"
# trace endpoint
endpoint = "openobserv.go-arcade.io:4317"
# trace insecure
insecure = true
# trace headers
headers = {}

# trace batch config
[trace.batch]
maxQueueSize = 2048
# trace batch timeout (duration string, e.g., "5s", "10s", or number as seconds)
batchTimeout = "5s"
# trace batch export timeout (duration string, e.g., "30s", "60s", or number as seconds)
# Increase this if you see "context deadline exceeded" errors
exportTimeout = "60s"
# trace batch export size
maxExportBatchSize = 512

[log]
# support stdout, file, kafka
output = "stdout"
# log level: DEBUG INFO WARNING ERROR FATAL
level = "DEBUG"
# log write directory
path = "logs"
# log file name
filename = "arcade.LOG"
# rotate by time
keepHours = 4
# rotate by size
rotateNum = 3
# unit: MB
rotateSize = 256

[grpc]
# grpc server host
host = "0.0.0.0"
# grpc server port
port = 9090
# max connections
maxConnections = 1000
# read write timeout
# unit: second
readWriteTimeout = 5

[http]
host = "0.0.0.0"
port = 8080
# access log, false or true
accessLog = true
# read timeout
# unit: second
readTimeout = 60
# write timeout
# unit: second
writeTimeout = 60
# idle timeout
# unit: second
idleTimeout = 60
# shutdown timeout
# unit: second
shutdownTimeout = 10
# request body size limit (bytes)
# default: 104857600 (100MB) - for plugin uploads
# unit: bytes
bodyLimit = 104857600

[http.auth]
# jwt access token expire time
# unit: minute
accessExpire = 3600
# jwt refresh token expire time
# unit: minute
refreshExpire = 7200
# jwt secret key
secretKey = "bf284d03-ba65-42d4-a9fe-0d2fbfe61060"

[database]
# Common configuration for all data sources
# sql print, false or true
output = true
# max open connections
maxOpenConns = 500
# max idle connections
maxIdleConns = 5
# max life time
# unit: second
maxLifeTime = 300
# max Idle Time
# unit: second
maxIdleTime = 60

# MySQL data source configuration
[database.mysql]
host = "127.0.0.1"
port = "3306"
user = "root"
password = "muP4woo9Aidiph2jeX8u"
dbname = "arcade"

# ClickHouse data source configuration
[database.clickhouse]
host = "localhost"
port = 9000
dbname = "arcade"
username = "default"
password = "Doh4Pur5lix6ru0OoK0t"
# unit: second
dialTimeout = 10
readTimeout = 20

[redis]
# support single, cluster, sentinel
mode = "single"
# address, ip:port or ip1:port,ip2:port for cluster and sentinel(SentinelAddrs)
# For cluster mode: address = "127.0.0.1:7000,127.0.0.1:7001,127.0.0.1:7002"
address = "127.0.0.1:6379"
password = ""
db = 0
poolSize = 50
#useTLS = false
#tlsMinVersion = "1.0"
#masterName = ""
#sentinelUsername = ""
#sentinelPassword = ""
# maxRedirects: maximum number of redirects for cluster mode (default: 3)
#maxRedirects = 3
# dialTimeout
# unit: second
dialTimeout = 10
# read timeout
# unit: second
readTimeout = 10
# write timeout
# unit: second
writeTimeout = 10

[taskQueue]
# Task queue configuration
# Concurrency: number of workers processing tasks concurrently
concurrency = 10
# StrictPriority: if true, process tasks in strict priority order
strictPriority = true
# LogLevel: log level (debug, info, warn, error)
logLevel = "info"
# ShutdownTimeout: shutdown timeout in seconds
shutdownTimeout = 10
# GroupGracePeriod: group grace period in seconds
groupGracePeriod = 5
# GroupMaxDelay: group max delay in seconds
groupMaxDelay = 20
# GroupMaxSize: group max size
groupMaxSize = 100

# Priority weight: queue name -> priority weight (higher weight = higher priority)
# Critical queue has highest priority, low queue has lowest priority
[taskQueue.priority]
# Critical queue has highest priority, default queue has medium priority, low queue has lowest priority
critical = 6
# Default queue has medium priority
default = 3
# Low queue has lowest priority
low = 1