[log]
# support stdout, file, kafka
output = "stdout"
# log level: DEBUG INFO WARNING ERROR FATAL
level = "DEBUG"
# log write directory
path = "logs"
# log file name
filename = "arcade.LOG"
# rotate by time
keepHours = 4
# rotate by size
rotateNum = 3
# unit: MB
rotateSize = 256
# kafka brokers
#kafkaBrokers = [
#    "127.0.0.1:9092",
#    "127.0.0.1:9093",
#    "127.0.0.1:9094"
#]
# kafka topic
# kafkaTopic = ""

[grpc]
host = "0.0.0.0"
port = 9090
maxConnections = 1000
maxQPS = 1000
# unit: second
readWriteTimeout = 5

[http]
host = "0.0.0.0"
port = 8080
# debug, release
mode = "debug"
# unit: second
heartbeat = 60
# enable pprof, false or true
pprof = true
# enable metrics, false or true
exposeMetrics = true
# access log, false or true
accessLog = true
# use file assets, false or true
UseFileAssets = false
# read timeout
# unit: second
readTimeout = 60
# write timeout
# unit: second
writeTimeout = 60
# idle timeout
# unit: second
idleTimeout = 60
# shutdown timeout
# unit: second
shutdownTimeout = 10
# request body size limit (bytes)
# default: 104857600 (100MB) - for plugin uploads
# unit: bytes
bodyLimit = 104857600

[http.tls]
certFile = ''
keyFile = ''

[http.auth]
# jwt access token expire time
# unit: minute
accessExpire = 3600
# jwt refresh token expire time
# unit: minute
refreshExpire = 7200
# jwt secret key
secretKey = "bf284d03-ba65-42d4-a9fe-0d2fbfe61060"

[database]
# support mysql
type = "mysql"
host = "127.0.0.1"
port = "3306"
user = "root"
password = "muP4woo9Aidiph2jeX8u"
db = "arcade"
# sql print, false or true
output = true
# max open connections
# unit: second
maxOpenConns = 500
# max idle connections
# unit: second
maxIdleConns = 5
# max life time
# unit: second
maxLifeTime = 300
# max Idle Time
# unit: second
maxIdleTime = 60

[database.mongodb]
# cluster, standalone
# cluster: uri = "mongodb://localhost:27017,localhost:27018,localhost:27019"
# auth: 
uri = "mongodb://mongo:muP4woo9Aidiph2jeX8u@localhost:27017"
# uri = "mongodb://127.0.0.1:27017"
compressors = ["snappy", "zstd", "zlib"]
db = "arcade"
poolSize = 100

[redis]
# support single, cluster, sentinel
mode = "single"
# address, ip:port or ip1:port,ip2:port for cluster and sentinel(SentinelAddrs)
address = "127.0.0.1:6379"
password = ""
db = 0
poolSize = 50
#useTLS = false
#tlsMinVersion = "1.0"
#masterName = ""
#sentinelUsername = ""
#sentinelPassword = ""
# dialTimeout
# unit: second
dialTimeout = 10
# read timeout
# unit: second
readTimeout = 10
# write timeout
# unit: second
writeTimeout = 10

# 存储配置已移至数据库管理
# 请使用 API 或管理界面配置存储
# [storage]
# Provider  = "minio"
# AccessKey = ""
# SecretKey = ""
# Endpoint  = ""
# Bucket    = ""
# Region    = ""
# UseTLS    = false
# BasePath  = ""

[job]
# Job worker pool configuration
# If maxWorkers is 0, it will be calculated based on CPU cores (CPU * 2)
# If queueSize is 0, it will be calculated as maxWorkers * 10
maxWorkers = 0
queueSize = 0
# unit: second
workerTimeout = 1800

[plugin]
# Plugin cache directory for storing downloaded plugin files
# Default: /var/lib/arcade/plugins
cacheDir = "plugins"