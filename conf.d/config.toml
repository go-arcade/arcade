[metrics]
# enable metrics server, false or true
enable = true
# metrics server host
host = "0.0.0.0"
# metrics server port
port = 8082
# metrics server request path, default: "/metrics"
path = "/metrics"

[pprof]
# enable pprof server, false or true
enable = true
# pprof server host
host = "0.0.0.0"
# pprof server port
port = 8083
# pprof server request path prefix, default: "/debug/pprof"
path = "/debug/pprof"

[log]
# support stdout, file, kafka
output = "stdout"
# log level: DEBUG INFO WARNING ERROR FATAL
level = "DEBUG"
# log write directory
path = "logs"
# log file name
filename = "arcade.LOG"
# rotate by time
keepHours = 4
# rotate by size
rotateNum = 3
# unit: MB
rotateSize = 256

[grpc]
# grpc server host
host = "0.0.0.0"
# grpc server port
port = 9090
# max connections
maxConnections = 1000
# read write timeout
# unit: second
readWriteTimeout = 5

[http]
host = "0.0.0.0"
port = 8080
# access log, false or true
accessLog = true
# use file assets, false or true
useFileAssets = false
# read timeout
# unit: second
readTimeout = 60
# write timeout
# unit: second
writeTimeout = 60
# idle timeout
# unit: second
idleTimeout = 60
# shutdown timeout
# unit: second
shutdownTimeout = 10
# request body size limit (bytes)
# default: 104857600 (100MB) - for plugin uploads
# unit: bytes
bodyLimit = 104857600

[http.auth]
# jwt access token expire time
# unit: minute
accessExpire = 3600
# jwt refresh token expire time
# unit: minute
refreshExpire = 7200
# jwt secret key
secretKey = "bf284d03-ba65-42d4-a9fe-0d2fbfe61060"

[database]
# support mysql
type = "mysql"
# mysql host
host = "127.0.0.1"
# mysql port
port = "3306"
# mysql user
user = "root"
password = "muP4woo9Aidiph2jeX8u"
# mysql database
db = "arcade"
# sql print, false or true
output = true
# max open connections
# unit: second
maxOpenConns = 500
# max idle connections
# unit: second
maxIdleConns = 5
# max life time
# unit: second
maxLifeTime = 300
# max Idle Time
# unit: second
maxIdleTime = 60

[database.mongodb]
# cluster, standalone
# cluster: uri = "mongodb://localhost:27017,localhost:27018,localhost:27019"
# auth: 
uri = "mongodb://mongo:muP4woo9Aidiph2jeX8u@localhost:27017"
# uri = "mongodb://127.0.0.1:27017"
compressors = ["snappy", "zstd", "zlib"]
db = "arcade"
poolSize = 100

[redis]
# support single, cluster, sentinel
mode = "single"
# address, ip:port or ip1:port,ip2:port for cluster and sentinel(SentinelAddrs)
address = "127.0.0.1:6379"
password = ""
db = 0
poolSize = 50
#useTLS = false
#tlsMinVersion = "1.0"
#masterName = ""
#sentinelUsername = ""
#sentinelPassword = ""
# dialTimeout
# unit: second
dialTimeout = 10
# read timeout
# unit: second
readTimeout = 10
# write timeout
# unit: second
writeTimeout = 10

[taskQueue]
# Task queue configuration
# Concurrency: number of workers processing tasks concurrently
concurrency = 10
# StrictPriority: if true, process tasks in strict priority order
strictPriority = true
# LogLevel: log level (debug, info, warn, error)
logLevel = "info"
# ShutdownTimeout: shutdown timeout in seconds
shutdownTimeout = 10
# GroupGracePeriod: group grace period in seconds
groupGracePeriod = 5
# GroupMaxDelay: group max delay in seconds
groupMaxDelay = 20
# GroupMaxSize: group max size
groupMaxSize = 100

# Priority weight: queue name -> priority weight (higher weight = higher priority)
# Critical queue has highest priority, low queue has lowest priority
[taskQueue.priority]
# Critical queue has highest priority, default queue has medium priority, low queue has lowest priority
critical = 6
# Default queue has medium priority
default = 3
# Low queue has lowest priority
low = 1